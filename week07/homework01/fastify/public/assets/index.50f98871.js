var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,i=(t,l,a)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[l]=a;import{r as s,R as c,a as m}from"./vendor.f0c78bdd.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const l of e)if("childList"===l.type)for(const e of l.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();const o=[{title:"小米5亿元收购自动驾驶技术公司深动科技",body:"小米集团披露公告称，公司与自动驾驶技术公司深动科技（DEEPMOTION TECH）相关订约方订立股份购买协议。整体收购总代价约为7737万美元（约合5亿元人民币），完成交易后，深动科技将成为小米全资附属公司。"},{title:"农夫山泉：上半年实现净利润40.13亿元，同比增40.1%",body:"农夫山泉在港交所公告，上半年实现净利润约为40.13亿元，同比增长40.1%；实现营收151.75亿元，同比增长31.4%；每股基本盈利为0.36元，同比增长33.3%。"},{title:"小米集团：二季度营收877.9亿元，超市场预期",body:"小米集团发布财报，2021年第二季度营收877.9亿元，预期840.89亿元，去年同期535.38亿元；净利润82.7亿元，市场预估59.9亿元，上半年净利润160.6亿元"},{title:"年薪220万招聘阿富汗项目生产经理？中交四公局：虚假诈骗信息，已报警",body:"针对昨日社交网络上大范围流传的“中交四公局招聘阿富汗战后重建项目-阿富汗南北走廊环线公路项目国别经理、生产经理”等信息，涉事公司辟谣称，“以上均为虚假诈骗信息，请社会各界人士切勿上当受骗。我司已采取报警处理，将严厉追究责任。”"}];function u(){const[e,m]=s.exports.useState([]),[u,d]=s.exports.useState(""),[p,y]=s.exports.useState(!1),[E,v]=s.exports.useState(""),[f,h]=s.exports.useState(""),[b,g]=s.exports.useState(!1),[x,k]=s.exports.useState([]),[S,w]=s.exports.useState({}),C=s.exports.useRef(null),[j,N]=s.exports.useState([]),[O,L]=s.exports.useState(""),[T,$]=s.exports.useState(!1),[P,q]=s.exports.useState({}),[I,M]=s.exports.useState(""),[R,A]=s.exports.useState(""),[D,B]=s.exports.useState(!1),F=s.exports.useRef(null),K=s.exports.useRef(null),H=s.exports.useCallback((()=>{fetch("./api/mysql/query").then((e=>e.json())).then((e=>{const{result:t=[]}=e||{};m(t)}))}),[]),Q=s.exports.useCallback((()=>{fetch("./api/redis/getAllKeys").then((e=>e.json())).then((e=>{const{result:t=[]}=e||{};k(t)}))}),[]),W=s.exports.useCallback((()=>{fetch("./api/todo/query").then((e=>e.json())).then((e=>{const{result:t=[]}=e||{};N(t)}))}),[]),_=s.exports.useCallback((()=>{H(),Q(),W()}),[]);return s.exports.useEffect(_,[]),c.createElement("div",{className:"App"},c.createElement("div",{className:"item-wrapper"},c.createElement("div",{className:"item-title"},"MySQL"),c.createElement("div",{className:"item-main"},c.createElement("div",null,c.createElement("input",{type:"text",value:u,onChange:e=>d(e.target.value)}),c.createElement("button",{style:{marginLeft:6},disabled:p||""===(u||"").trim(),onClick:async()=>{const e=(u||"").trim();if(e)try{y(!0),await fetch(`./api/mysql/insert?value=${e}`),H()}finally{y(!1)}}},"add")),c.createElement("div",{style:{marginTop:10}},e&&e.length?c.createElement("table",{border:"1"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"名称"),c.createElement("th",null,"添加时间"))),c.createElement("tbody",null,(e||[]).map((e=>c.createElement("tr",{key:e.id},c.createElement("td",null,e.name),c.createElement("td",null,e.date)))))):null))),c.createElement("div",{className:"item-wrapper"},c.createElement("div",{className:"item-title"},"Redis"),c.createElement("div",{className:"item-main"},c.createElement("div",null,c.createElement("label",{htmlFor:"key"},"key:"),c.createElement("input",{id:"key",type:"text",value:E,onChange:e=>v(e.target.value)}),c.createElement("label",{htmlFor:"value"},"value:"),c.createElement("input",{id:"value",type:"text",value:f,onChange:e=>h(e.target.value)}),c.createElement("button",{style:{marginLeft:6},disabled:b||""===(E||"").trim()||""===(f||"").trim(),onClick:async()=>{const e=(E||"").trim(),t=(f||"").trim();if(e)try{g(!0),await fetch(`./api/redis/set?${e}=${t}`),await Q(),alert("操作成功")}finally{g(!1)}}},"add")),(x||[]).length?c.createElement("div",{style:{marginTop:10}},c.createElement("div",{style:{fontWeight:"bold"}},"All redis keys:"),c.createElement("div",{style:{padding:"4px 20px",color:"tomato"}},(x||[]).join(","))):null,c.createElement("div",{style:{marginTop:10}},c.createElement("select",{ref:C,style:{width:120}},(x||[]).map((e=>c.createElement("option",{key:e,value:e},e)))),c.createElement("button",{style:{marginLeft:6},onClick:async()=>{const e=C.current.value;e&&fetch(`./api/redis/get/${e}`).then((e=>e.json())).then((s=>{const{result:c=""}=s||{};var m;w((m=((e,t)=>{for(var l in t||(t={}))n.call(t,l)&&i(e,l,t[l]);if(a)for(var l of a(t))r.call(t,l)&&i(e,l,t[l]);return e})({},S),t(m,l({[e]:c}))))}))}},"search")),Object.keys(S).length?c.createElement("div",{style:{marginTop:10}},c.createElement("table",{border:"1"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"key"),c.createElement("th",null,"value"))),c.createElement("tbody",null,Object.keys(S).map((e=>c.createElement("tr",{key:e},c.createElement("td",null,e),c.createElement("td",null,S[e]))))))):null)),c.createElement("div",{className:"item-wrapper"},c.createElement("div",{className:"item-title"},"MongoDB"),c.createElement("div",{className:"item-main"},c.createElement("div",null,c.createElement("input",{type:"text",value:O,onChange:e=>L(e.target.value)}),c.createElement("button",{style:{marginLeft:6},disabled:T||""===(O||"").trim(),onClick:async()=>{const e=(O||"").trim();if(e)try{$(!0),await fetch(`./api/todo/insert?value=${e}`),W()}finally{$(!1)}}},"add")),c.createElement("div",{style:{marginTop:10}},j&&j.length?c.createElement("table",{border:"1"},c.createElement("thead",null,c.createElement("tr",null,c.createElement("th",null,"subject"),c.createElement("th",null,"datetime"))),c.createElement("tbody",null,(j||[]).map((e=>c.createElement("tr",{key:e._id},c.createElement("td",null,e.subject),c.createElement("td",null,e.datetime?new Date(e.datetime).toISOString():"")))))):null))),c.createElement("div",{className:"item-wrapper"},c.createElement("div",{className:"item-title"},"ElasticSearch"),c.createElement("div",{className:"item-main"},c.createElement("div",null,o.map(((e,t)=>c.createElement("button",{key:t,style:{marginLeft:6},onClick:()=>{M(e.title),A(e.body)}},"复制文章",t+1,"到输入框")))),c.createElement("div",{style:{marginTop:10}},c.createElement("div",null,"标题："),c.createElement("input",{type:"text",value:I,onChange:e=>M(e.target.value)})),c.createElement("div",null,c.createElement("div",null,"正文："),c.createElement("textarea",{style:{width:400},rows:8,value:R,onChange:e=>A(e.target.value)}),c.createElement("button",{style:{marginLeft:6},disabled:D||""===(I||"").trim()||""===(R||"").trim(),onClick:async()=>{const e=(I||"").trim(),t=(R||"").trim();if(e&&t)try{B(!0),await fetch(`./api/es/add?title=${e}&body=${t}`)}finally{B(!1)}}},"add")),c.createElement("div",{style:{marginTop:10}},c.createElement("input",{type:"text",ref:F}),c.createElement("select",{ref:K,style:{width:60,marginLeft:6}},[{name:"标题",value:"title"},{name:"正文",value:"body"}].map((e=>c.createElement("option",{key:e.value,value:e.value},e.name)))),c.createElement("button",{style:{marginLeft:6},onClick:async()=>{const e=F.current.value.trim(),t=K.current.value;e&&t?fetch(`./api/es/get?key=${t}&text=${e}`).then((e=>e.json())).then((e=>{const{body:t={}}=e||{};q(t)})):(q({}),alert("请输入要搜索的文字"))}},"search")),c.createElement("div",{style:{marginTop:20}},P&&P.hits&&P.hits.total?`共搜索到${P.hits.total.value}篇文章`:null))))}m.render(c.createElement(c.StrictMode,null,c.createElement(u,null)),document.getElementById("root"));
